<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search</title>
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons (CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Override Bootstrap primary color to a green accent -->
    <style>
        :root {
            /* Primary color -> green */
            --bs-primary: #28a745; /* bootstrap green (similar to .btn-success) */
            --bs-primary-rgb: 40,167,69;
        }
    </style>
  </head>
  <body>

    <header>
      <h1 style="text-align:center;">Find a Site</h1>
      <nav>
        <a href="/guest/search">üîç Search Campsites</a>
        <a href="/guest/manage">üìÖ My Reservations</a>
        <a href="/guest/profile">üë§ Profile</a>
        <a href="/logout">üö™ Logout</a>
      </nav>
    </header>

    <main class="container py-4">
      <section class="card card-elevated">
        <div class="card-body">
          <!-- Example error message (remove or edit as needed) -->
          <!-- <div class="alert alert-danger mb-4"><i class="bi bi-exclamation-triangle me-2"></i>Sample error message</div> -->

          <form class="row gy-3 gx-2 align-items-end">
            <div class="col-md-3">
              <label class="form-label">Check-in</label>
              <input type="date" name="check_in" class="form-control" required>
            </div>
            <div class="col-md-3">
              <label class="form-label">Check-out</label>
              <input type="date" name="check_out" class="form-control" required>
            </div>
            <div class="col-md-2">
              <label class="form-label">Rig length (ft)</label>
              <input type="number" min="1" name="rig_length" class="form-control" required>
            </div>
            <div class="col-md-2">
              <label class="form-label">Site type</label>
              <select name="type" class="form-select">
                <option value="" selected>Any</option>
                <option value="STANDARD">STANDARD</option>
                <option value="TENT">TENT</option>
                <option value="DRY">DRY</option>
                <option value="TRAILER">TRAILER</option>
              </select>
            </div>
            <div class="col-md-7">
              <label class="form-label d-block mb-1">Hookups</label>
              <div class="d-flex flex-wrap gap-3 ps-1">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" name="hookups" id="hookups-none" value="none">
                  <label class="form-check-label" for="hookups-none">No Hookups</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" name="hookups" id="hookups-power" value="power">
                  <label class="form-check-label" for="hookups-power">Power</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" name="hookups" id="hookups-sewer" value="sewer">
                  <label class="form-check-label" for="hookups-sewer">Sewer</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" name="hookups" id="hookups-water" value="water">
                  <label class="form-check-label" for="hookups-water">Water</label>
                </div>
              </div>
            </div>
            <div class="col-md-1 d-grid">
              <button type="submit" class="btn btn-primary mt-2"><i class="bi bi-search"></i></button>
            </div>
          </form>
        </div>
      </section>

      <!-- Example results table (static sample data) -->
      <section class="mt-4">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <h2 class="h5 mb-0">Available Sites <span class="text-muted fw-normal">(2)</span></h2>
        </div>
        <div class="table-responsive card card-elevated">
          <table class="table table-hover table-striped align-middle mb-0">
            <thead>
              <tr>
                <th class="w-25">#</th>
                <th>Type</th>
                <th>Length (ft)</th>
                <th>Pull-through</th>
                <th>Hookups</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="fw-medium">12</td>
                <td><span class="badge rounded-pill bg-surface border text-body">STANDARD</span></td>
                <td>30</td>
                <td>Yes</td>
                <td>
                  <span class="badge bg-secondary-subtle text-secondary-emphasis border">Power</span>
                  <span class="badge bg-secondary-subtle text-secondary-emphasis border">Water</span>
                  <span class="badge bg-secondary-subtle text-secondary-emphasis border">Sewer</span>
                </td>
                <td><span class="badge bg-success-subtle text-success-emphasis border border-success-subtle">Available</span></td>
              </tr>
              <tr>
                <td class="fw-medium">7</td>
                <td><span class="badge rounded-pill bg-surface border text-body">TENT</span></td>
                <td>15</td>
                <td>No</td>
                <td>
                  <span class="badge bg-secondary-subtle text-secondary-emphasis border">No Hookups</span>
                </td>
                <td><span class="badge bg-success-subtle text-success-emphasis border border-success-subtle">Available</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Only allow 'No Hookups' or any combination of the others, not both
      document.addEventListener('DOMContentLoaded', function() {
        const noHookups = document.getElementById('hookups-none');
        const others = [
          document.getElementById('hookups-power'),
          document.getElementById('hookups-sewer'),
          document.getElementById('hookups-water')
        ];
        if (noHookups) {
          noHookups.addEventListener('change', function() {
            if (noHookups.checked) {
              others.forEach(cb => cb.checked = false);
            }
          });
          others.forEach(cb => {
            cb.addEventListener('change', function() {
              if (cb.checked) {
                noHookups.checked = false;
              }
            });
          });
        }
      });
    </script>
  </body>
</html>