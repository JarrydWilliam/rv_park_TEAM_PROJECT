<!doctype html>
<html lang="en">
  <head>
    <%- include('partials/head', { title: 'Create Account' }) %>
  </head>
  <body>
    <%- include('partials/nav') %>

    <main class="container py-4">
      <h1 class="h3 mb-3">Create Account</h1>
      <p class="text-muted mb-4">
        Create your account so you can reserve a site at the Hill AFB RV park.
      </p>

      <% if (typeof error !== 'undefined' && error) { %>
        <div class="alert alert-danger"><%= error %></div>
      <% } %>

      <form action="/register" method="post" class="row g-3">
        <!-- Name -->
        <div class="col-md-6">
          <label for="firstName" class="form-label">First name</label>
          <input
            type="text"
            class="form-control"
            id="firstName"
            name="firstName"
            required
          />
        </div>
        <div class="col-md-6">
          <label for="lastName" class="form-label">Last name</label>
          <input
            type="text"
            class="form-control"
            id="lastName"
            name="lastName"
            required
          />
        </div>

        <!-- Contact -->
        <div class="col-md-6">
          <label for="email" class="form-label">Email</label>
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            required
          />
        </div>

        <!-- Account credentials -->
        <div class="col-md-3">
          <label for="username" class="form-label">Username</label>
          <input
            type="text"
            class="form-control"
            id="username"
            name="username"
            required
          />
        </div>
        <div class="col-md-3">
          <label for="password" class="form-label">Password</label>
          <input
            type="password"
            class="form-control"
            id="password"
            name="password"
            required
          />
        </div>
        <div class="col-md-3">
          <label for="confirmPassword" class="form-label">Confirm password</label>
          <input
            type="password"
            class="form-control"
            id="confirmPassword"
            name="confirmPassword"
            required
          />
        </div>

        <!-- DoD / Military details -->
        <div class="col-md-4">
          <label for="dodAffiliation" class="form-label">DoD Affiliation</label>
          <select
            class="form-select"
            id="dodAffiliation"
            name="dodAffiliation"
            required
          >
            <option value="">Choose...</option>
            <option value="Active Duty">Active Duty</option>
            <option value="Retired">Retired</option>
            <option value="Guard/Reserve">Guard / Reserve</option>
            <option value="DoD Civilian">DoD Civilian</option>
            <option value="Sponsored Guest">Sponsored Guest</option>
          </select>
        </div>

        <div class="col-md-4">
          <label for="branch" class="form-label">Branch</label>
          <select class="form-select" id="branch" name="branch" required>
            <option value="">Choose...</option>
            <option value="USAF">USAF</option>
            <option value="USSF">USSF</option>
            <option value="USA">USA</option>
            <option value="USN">USN</option>
            <option value="USMC">USMC</option>
            <option value="USCG">USCG</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="col-md-4">
          <label for="rank" class="form-label">Rank / Grade</label>
          <input
            type="text"
            class="form-control"
            id="rank"
            name="rank"
            placeholder="e.g., MSgt / E-7"
            required
          />
        </div>

        <!-- Party / pets -->
        <div class="col-md-4">
          <label for="numAdults" class="form-label">Number of adults</label>
          <input
            type="number"
            class="form-control"
            id="numAdults"
            name="numAdults"
            min="1"
            value="1"
            required
          />
        </div>
        <div class="col-md-4">
          <label for="numPets" class="form-label">Number of pets</label>
          <input
            type="number"
            class="form-control"
            id="numPets"
            name="numPets"
            min="0"
            value="0"
            required
          />
        </div>
        <div class="col-md-4">
          <label for="petBreedNotes" class="form-label">Pet breed notes</label>
          <input
            type="text"
            class="form-control"
            id="petBreedNotes"
            name="petBreedNotes"
            placeholder="Optional (e.g. 2x golden retrievers)"
          />
        </div>

        <!-- Pet disclaimer -->
        <div class="col-12">
          <div class="card disclaimer-card mb-3">
            <div class="card-body py-3">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="petDisclaimerAccepted"
                  name="petDisclaimerAccepted"
                  required
                />
                <label class="form-check-label small" for="petDisclaimerAccepted">
                  I understand that certain breeds may be restricted on Hill AFB and
                  that I am responsible for complying with all base pet policies.
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Base access confirmation -->
        <div class="col-12">
          <div class="card disclaimer-card mb-3">
            <div class="card-body py-3">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="baseAccessConfirmed"
                  name="baseAccessConfirmed"
                  required
                />
                <label class="form-check-label small" for="baseAccessConfirmed">
                  I confirm that I have valid access to Hill AFB (or will be properly
                  sponsored) and can get on base for my stay.
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Submit -->
        <div class="col-12 mt-4">
          <button type="submit" class="btn btn-primary">
            Create account
          </button>
        </div>
      </form>
    </main>

    <%- include('partials/footer') %>
  </body>
</html>
