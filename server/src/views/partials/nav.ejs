<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">

    <!-- Branding -->
    <a class="navbar-brand fw-bold" href="/">
      Hill AFB RV Park
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">

        <% if (!currentUser) { %>
          <!-- Public Navigation -->
          <li class="nav-item">
            <a class="nav-link" href="/login">Login</a>
          </li>

        <% } else if (currentUser.role === 'admin') { %>
          <!-- ADMIN NAVIGATION -->

          <li class="nav-item">
            <a class="nav-link" href="/admin/dashboard">Dashboard</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/admin/sites">Sites</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/admin/users">Users</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/admin/walkins/unpaid">Unpaid Walk-ins</a>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Reports</a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="/admin/daily_report">Daily Report</a></li>
              <li><a class="dropdown-item" href="/admin/availability_report">Availability Report</a></li>
              <li><a class="dropdown-item" href="/admin/walkin_reports">Walk-in Reports</a></li>
            </ul>
          </li>

        <% } else if (currentUser.role === 'employee') { %>
          <!-- EMPLOYEE NAVIGATION -->

          <li class="nav-item">
            <a class="nav-link" href="/employee/dashboard">Dashboard</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/employee/users/new">Create Customer</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/employee/reservations/new">Make Reservation</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/employee/reservations">View Reservations</a>
          </li>

        <% } else { %>
          <!-- CUSTOMER NAVIGATION -->

          <li class="nav-item">
            <a class="nav-link" href="/guest/dashboard">Dashboard</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/reservations">My Reservations</a>
          </li>

        <% } %>

      </ul>

      <!-- Right side: user info + logout -->
      <ul class="navbar-nav ms-auto">
        <% if (currentUser) { %>
          <li class="nav-item">
            <span class="navbar-text text-white-50 me-3">
              Logged in as <strong><%= currentUser.username %></strong>
            </span>
          </li>
          <li class="nav-item">
            <form action="/logout" method="post" style="display:inline;">
              <button type="submit" class="nav-link btn btn-link text-warning p-0" style="text-decoration: none;">Logout</button>
            </form>
          </li>
        <% } else { %>
          <li class="nav-item">
            <a class="nav-link text-warning" href="/login">Login</a>
          </li>
        <% } %>
      </ul>
    </div>
  </div>
</nav>
